"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,o=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}var ControllerManager=function(){function t(e,n){_classCallCheck(this,t),this.currentItem=e,this.items=n,this.keyCode=Object.freeze({RETURN:13,SPACE:32,END:35,HOME:36,UP:38,DOWN:40})}return _createClass(t,[{key:"setFocusToFirstItem",value:function(){this.items[0].domNode.focus()}},{key:"setFocusToLastItem",value:function(){this.items[this.items.length-1].domNode.focus()}},{key:"setFocusToPreviousItem",value:function(){var t;this.currentItem===this.items[0]?this.setFocusToLastItem():(t=this.items.indexOf(this.currentItem),this.items[t-1].domNode.focus())}},{key:"setFocusToNextItem",value:function(){var t;this.currentItem===this.items[this.items.length-1]?this.setFocusToFirstItem():(t=this.items.indexOf(this.currentItem),this.items[t+1].domNode.focus())}},{key:"showContent",value:function(t){this.currentItem.domNode.setAttribute("aria-".concat(t),"true"),document.getElementById(this.currentItem.domNode.getAttribute("aria-controls")).removeAttribute("hidden")}},{key:"hideContent",value:function(t){this.currentItem.domNode.setAttribute("aria-".concat(t),"false"),document.getElementById(this.currentItem.domNode.getAttribute("aria-controls")).setAttribute("hidden","")}}]),t}(),DisclosureController=function(t){_inherits(n,ControllerManager);var e=_createSuper(n);function n(t,o){var i;return _classCallCheck(this,n),(i=e.call(this,t,o.buttons)).trigger=i.currentItem.domNode,i.disclosure=o,i.bindEvents(),i}return _createClass(n,[{key:"bindEvents",value:function(){this.trigger.addEventListener("click",this.handleClick.bind(this))}},{key:"handleClick",value:function(t){this.toggleContent()}},{key:"toggleContent",value:function(){this.trigger.hasAttribute("aria-expanded")?"true"==this.trigger.getAttribute("aria-expanded")?this.hideContent("expanded"):this.showContent("expanded"):this.disclosure.openDefault?this.showContent("expanded"):this.hideContent("expanded")}}]),n}();"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(t){if("Element"in t){var e="classList",n=t.Element.prototype,o=Object,i=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array.prototype.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},r=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},a=function(t,e){if(""===e)throw new r("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new r("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(t,e)},c=function(t){for(var e=i.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],o=0,s=n.length;o<s;o++)this.push(n[o]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=c.prototype=[],l=function(){return new c(this)};if(r.prototype=Error.prototype,u.item=function(t){return this[t]||null},u.contains=function(t){return-1!==a(this,t+="")},u.add=function(){var t,e=arguments,n=0,o=e.length,i=!1;do{t=e[n]+"",-1===a(this,t)&&(this.push(t),i=!0)}while(++n<o);i&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,o=0,i=n.length,s=!1;do{for(t=n[o]+"",e=a(this,t);-1!==e;)this.splice(e,1),s=!0,e=a(this,t)}while(++o<i);s&&this._updateClassName()},u.toggle=function(t,e){t+="";var n=this.contains(t),o=n?!0!==e&&"remove":!1!==e&&"add";return o&&this[o](t),!0===e||!1===e?e:!n},u.toString=function(){return this.join(" ")},o.defineProperty){var d={get:l,enumerable:!0,configurable:!0};try{o.defineProperty(n,e,d)}catch(t){void 0!==t.number&&-2146823252!==t.number||(d.enumerable=!1,o.defineProperty(n,e,d))}}else o.prototype.__defineGetter__&&n.__defineGetter__(e,l)}}(self),function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,o=arguments.length;for(n=0;n<o;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}t=null}());var WidgetManager=function(){function t(e,n){_classCallCheck(this,t),this.domNode=e,this.nodeClass="aria-".concat(n)}return _createClass(t,[{key:"hasSetting",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.domNode.hasAttribute("data-".concat(this.nodeClass,"-").concat(t));return n&&(this.domNode.removeAttribute("data-".concat(this.nodeClass,"-").concat(t)),e&&this.addClass(this.domNode,"".concat(this.nodeClass,"--").concat(t),!1)),n}},{key:"getSetting",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.domNode.hasAttribute("data-".concat(this.nodeClass,"-").concat(t))){var n=this.domNode.getAttribute("data-".concat(this.nodeClass,"-").concat(t));return this.domNode.removeAttribute("data-".concat(this.nodeClass,"-").concat(t)),e&&"none"!==n&&this.addClass(this.domNode,"".concat(this.nodeClass,"--").concat(t),!1),n}}},{key:"addClass",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if("string"==typeof e){var i="data-".concat(e.replace(/__|--/g,"-"));t&&(t.classList.add("".concat(e).concat(o)),t.hasAttribute(i)&&n&&t.removeAttribute(i))}}}]),t}(),Button=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_classCallCheck(this,t),this.textNode=e,this.targetID=n,this.domNode,this.init()}return _createClass(t,[{key:"init",value:function(){this.domNode=document.createElement("button"),this.domNode.setAttribute("type","button"),this.textNode&&this.domNode.appendChild(document.createTextNode(this.textNode)),this.targetID&&document.getElementById(this.targetID)&&(this.domNode.setAttribute("aria-controls",this.targetID),this.domNode.setAttribute("id","".concat(this.targetID,"-trigger")))}}]),t}(),Disclosure=function(t){_inherits(n,WidgetManager);var e=_createSuper(n);function n(t,o){var i;_classCallCheck(this,n);if(!t instanceof Element)throw new TypeError("".concat("Disclosure constructor argument domNode"," is not a DOM Element."));return(i=e.call(this,t,"disclosure")).container,i.buttonLabel,i.buttons=[],i.customClass,i.openDefault,i.disclosureTransition,i.idCounter=0,i.index=o,i.init(),i}return _createClass(n,[{key:"init",value:function(){this.idCounter+=1,this.domNode.hasAttribute("id")||this.domNode.setAttribute("id","dis-".concat(this.idCounter,"-").concat(this.index)),this.addClass(this.domNode,this.nodeClass,!0,"__content"),this.customClass=this.getSetting("custom-class",!1),this.buttonLabel=this.getSetting("button-label",!1),void 0===this.buttonLabel&&(this.buttonLabel="Toggle Content"),this.openDefault=this.hasSetting("open-default",!1),this.disclosureTransition=this.hasSetting("transition",!1),this.disclosureTransition&&this.addClass(this.domNode,this.nodeClass,!1,"__content--transition"),this.setupDisclosureContainerMarkup()}},{key:"setupDisclosureContainerMarkup",value:function(){this.container=document.createElement("div"),this.addClass(this.container,this.nodeClass),this.customClass&&this.addClass(this.container,"".concat(this.nodeClass,"--").concat(this.customClass));var t=new Button(this.buttonLabel,this.domNode.id);this.buttons.push(t),this.container.appendChild(t.domNode),this.domNode.parentNode.insertBefore(this.container,this.domNode),this.container.appendChild(this.domNode),new DisclosureController(t,this).toggleContent()}}]),n}();window.addEventListener("DOMContentLoaded",(function(t){document.querySelectorAll("[data-aria-disclosure]").forEach((function(t,e){new Disclosure(t,e)}))}));